<!-- sections/customize-sofa.liquid -->
<section class="sofa-customize-section">
  <div class="container">
    
    <!-- Step 01 -->
    <div class="step-block">
      <div class="step-header">
        <h2>{{ section.settings.step1_number }} <span>{{ section.settings.step1_title }}</span></h2>
        <p class="subtext">{{ section.settings.step1_subtext }}</p>
      </div>

      <div class="step-content">
        <div class="style-grid">
          {% for block in section.blocks %}
            {% if block.type == 'style_image' %}
              <div class="style-item">
                {% if block.settings.image %}
                  <img src="{{ block.settings.image | img_url: '600x' }}" alt="Sofa Style">
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>
        <div class="style-text">
          <p>{{ section.settings.step1_text1 }}</p>
          <p>{{ section.settings.step1_text2 }}</p>
        </div>
      </div>
    </div>

    <!-- Step 02 -->
    <div class="step-block">
      <div class="step-header">
        <h2>{{ section.settings.step2_number }} <span>{{ section.settings.step2_title }}</span></h2>
        <p class="subtext">{{ section.settings.step2_subtext }}</p>
      </div>

      <div class="step-content">
        <div class="size-grid">
          {% for block in section.blocks %}
            {% if block.type == 'size_image' %}
              <div class="size-item">
                {% if block.settings.image %}
                  <img src="{{ block.settings.image | img_url: '600x' }}" alt="Sofa Size">
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>

        <div class="measurements">
          <h4>{{ section.settings.measurements_heading }}</h4>
          <ul>
            {% for block in section.blocks %}
              {% if block.type == 'measurement' %}
                <li>{{ block.settings.text }}</li>
              {% endif %}
            {% endfor %}
          </ul>
          <p>{{ section.settings.measurements_note }}</p>
          <div class="diagram">
            {% if section.settings.diagram %}
              <img src="{{ section.settings.diagram | img_url: '800x' }}" alt="Sofa Diagram">
            {% endif %}
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<style>
  .sofa-customize-section {
    padding: 60px 20px;
  }
  .sofa-customize-section .container {
    max-width: 1200px;
    margin: 0 auto;
  }
  .step-block {
    margin-bottom: 80px;
  }
  .step-header h2 {
    font-size: 28px;
    margin-bottom: 10px;
    font-weight: 700;
  }
  .step-header span {
    display: inline-block;
    margin-left: 8px;
    font-weight: 400;
  }
  .step-header .subtext {
    font-size: 16px;
    margin-bottom: 30px;
  }
  /* Style grid */
  .style-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
    gap: 20px;
    margin-bottom: 20px;
  }
  .style-item img {
    width: 100%;
    border-radius: 8px;
  }
  .style-text {
    font-size: 16px;
    color: #333;
  }
  /* Size grid */
  .size-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(150px,1fr));
    gap: 20px;
    margin-bottom: 20px;
  }
  .size-item img {
    width: 100%;
    border-radius: 8px;
  }
  .measurements {
    font-size: 16px;
  }
  .measurements h4 {
    font-weight: 600;
    margin-bottom: 10px;
  }
  .measurements ul {
    columns: 2;
    padding-left: 20px;
    margin-bottom: 15px;
  }
  .measurements li {
    margin-bottom: 5px;
  }
  .diagram img {
    max-width: 100%;
    margin-top: 15px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .step-header h2 {
      font-size: 22px;
    }
    .measurements ul {
      columns: 1;
    }
  }
</style>

{% schema %}
{
  "name": "Customize Sofa Section",
  "settings": [
    {
      "type": "text",
      "id": "step1_number",
      "label": "Step 1 Number",
      "default": "01"
    },
    {
      "type": "text",
      "id": "step1_title",
      "label": "Step 1 Title",
      "default": "Choose Your Style"
    },
    {
      "type": "textarea",
      "id": "step1_subtext",
      "label": "Step 1 Subtext",
      "default": "Mix & Match: Adjust arm shapes, back styles, or combine elements from different sofa styles."
    },
    {
      "type": "text",
      "id": "step1_text1",
      "label": "Step 1 Text 1",
      "default": "Start with one of our base designs, or bring your own inspiration photo."
    },
    {
      "type": "text",
      "id": "step1_text2",
      "label": "Step 1 Text 2",
      "default": "Whether you prefer modern designs or a classic look, the style is entirely yours."
    },
    {
      "type": "text",
      "id": "step2_number",
      "label": "Step 2 Number",
      "default": "02"
    },
    {
      "type": "text",
      "id": "step2_title",
      "label": "Step 2 Title",
      "default": "Customise Your Size"
    },
    {
      "type": "textarea",
      "id": "step2_subtext",
      "label": "Step 2 Subtext",
      "default": "Create any shape: L-shape, U-shape, 3 Seater, 4 Seater, 5 Seater â€“ anything you need."
    },
    {
      "type": "text",
      "id": "measurements_heading",
      "label": "Measurements Heading",
      "default": "Measurements you can tailor include:"
    },
    {
      "type": "text",
      "id": "measurements_note",
      "label": "Measurements Note",
      "default": "No awkward gaps, no wasted space!"
    },
    {
      "type": "image_picker",
      "id": "diagram",
      "label": "Diagram Image"
    }
  ],
  "blocks": [
    {
      "type": "style_image",
      "name": "Style Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Style Image"
        }
      ]
    },
    {
      "type": "size_image",
      "name": "Size Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Size Image"
        }
      ]
    },
    {
      "type": "measurement",
      "name": "Measurement Item",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Measurement Text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Customize Sofa Section",
      "blocks": [
        { "type": "style_image" },
        { "type": "style_image" },
        { "type": "style_image" },
        { "type": "style_image" },
        { "type": "size_image" },
        { "type": "size_image" },
        { "type": "size_image" },
        { "type": "size_image" },
        { "type": "measurement", "settings": { "text": "Length" }},
        { "type": "measurement", "settings": { "text": "Depth" }},
        { "type": "measurement", "settings": { "text": "Seat Depth" }}
      ]
    }
  ]
}
{% endschema %}
