<!-- Fabric Color Swatches Section -->
<section class="fabric-swatch-section">
  <div class="container">
    <!-- Main Product Image -->
    <div class="fabric-main-image">
      <img
        id="fabricMainImage"
        src="{{ section.settings.image_swatch_1 | img_url: '600x' }}"
        alt="Fabric Image"
        style="width:100%; max-width:400px; border:1px solid #ddd; border-radius:6px;"
      >
    </div>

    <!-- Swatches -->
    <div class="fabric-swatches" style="margin-top: 15px; display:flex; gap:10px;">
      {% for i in (1..6) %}
        {% assign color_id = 'color_swatch_' | append: i %}
        {% assign image_id = 'image_swatch_' | append: i %}
        {% assign color_value = section.settings[color_id] %}
        {% assign image_value = section.settings[image_id] %}

        {% if color_value != blank and image_value != blank %}
          <div
            class="fabric-swatch"
            data-image="{{ image_value | img_url: '600x' }}"
            style="
              width: 40px;
              height: 40px;
              background-color: {{ color_value }};
              border: 2px solid #ccc;
              cursor: pointer;
              border-radius: 50%;
            ">
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const swatches = document.querySelectorAll(".fabric-swatch");
      const mainImage = document.getElementById("fabricMainImage");

      swatches.forEach(swatch => {
        swatch.addEventListener("click", () => {
          const newImage = swatch.getAttribute("data-image");
          if (newImage) {
            mainImage.src = newImage;
          }
        });
      });
    });
  </script>
</section>

{% schema %}
{
  "name": "Fabric Color Swatches",
  "settings": [
    {
      "type": "header",
      "content": "Add Fabric Colors & Images"
    },
    {
      "type": "color",
      "id": "color_swatch_1",
      "label": "Color Swatch 1"
    },
    {
      "type": "image_picker",
      "id": "image_swatch_1",
      "label": "Image for Color 1"
    },
    {
      "type": "color",
      "id": "color_swatch_2",
      "label": "Color Swatch 2"
    },
    {
      "type": "image_picker",
      "id": "image_swatch_2",
      "label": "Image for Color 2"
    },
    {
      "type": "color",
      "id": "color_swatch_3",
      "label": "Color Swatch 3"
    },
    {
      "type": "image_picker",
      "id": "image_swatch_3",
      "label": "Image for Color 3"
    },
    {
      "type": "color",
      "id": "color_swatch_4",
      "label": "Color Swatch 4"
    },
    {
      "type": "image_picker",
      "id": "image_swatch_4",
      "label": "Image for Color 4"
    },
    {
      "type": "color",
      "id": "color_swatch_5",
      "label": "Color Swatch 5"
    },
    {
      "type": "image_picker",
      "id": "image_swatch_5",
      "label": "Image for Color 5"
    },
    {
      "type": "color",
      "id": "color_swatch_6",
      "label": "Color Swatch 6"
    },
    {
      "type": "image_picker",
      "id": "image_swatch_6",
      "label": "Image for Color 6"
    }
  ],
  "presets": [
    {
      "name": "Fabric Color Swatches",
      "category": "Product"
    }
  ]
}
{% endschema %}
