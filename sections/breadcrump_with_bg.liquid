<div class="breadcrumb-banner relative custom_breadcrumb {{ section.settings.banner_height }}" 
     style="
        background-image: url({{ section.settings.banner_bg | image_url: width: 1600 }}); 
        background-size: cover; 
        background-position: center; 
        color: #fff;">

  <!-- Breadcrumb on Top Left -->
  {%- unless template == 'index' -%}
    <nav class="breadcrumb absolute top-5 left-5 text-white" role="navigation" aria-label="breadcrumbs">
      <ul class="flex gap-2 text-sm">
        <li>
          <a class="underline" href="{{ routes.root_url }}">
            {{ 'breadcrumb.home' | t }}
          </a>
        </li>
        /
        <li class="is-active">
          <span aria-current="page">{{ page_title }}</span>
        </li>
      </ul>
    </nav>
  {%- endunless -%}

  <!-- Banner Content -->
  <div class="banner-content text-center">
    {% if section.settings.banner_heading != blank %}
      <h1 class="text-4xl font-bold mb-4">{{ section.settings.banner_heading }}</h1>
    {% endif %}

    {% if section.settings.banner_text != blank %}
      <div class="decorated-para">
        <span>{{ section.settings.banner_text }}</span>
      </div>
    {% endif %}

    {% if section.settings.banner_button_text != blank and section.settings.banner_button_link != blank %}
      <a href="{{ section.settings.banner_button_link }}" class="btn btn-primary mt-6 inline-block">
        {{ section.settings.banner_button_text }}
      </a>
    {% endif %}
  </div>
</div>

<style>
/* Banner Heights */
.custom_breadcrumb.small { height: 300px; }
.custom_breadcrumb.medium { height: 450px; }
.custom_breadcrumb.large { height: 700px; }

/* Breadcrumb */
.custom_breadcrumb .breadcrumb ul li a { 
  color: white !important;
}
.custom_breadcrumb .breadcrumb ul { 
  display: flex;
  gap: 6px;
  list-style: none;
}
.custom_breadcrumb .breadcrumb { 
  background:none !important;
  margin-left: -40px;
  padding-top: 17px;
}

/* Ensure Banner Content Perfect Center */
.custom_breadcrumb {
  position: relative;
}
.custom_breadcrumb .banner-content {
  position: absolute;         /* Absolute positioning */
  top: 50%;                   /* Vertical center */
  left: 50%;                  /* Horizontal center */
  transform: translate(-50%, -50%);
  text-align: center;
  width: 100%;
  max-width: 800px;
  padding: 0 15px;
}

/* Paragraph Decorative Lines */
.decorated-para {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 400;
  max-width: 700px;
  margin: 0 auto;
}
.decorated-para::before,
.decorated-para::after {
  content: "";
  flex: 1;
  border-bottom: 1px solid #fff;
  margin: 0 10px;
}

/* Responsive Fix */
@media(max-width:768px){
  .custom_breadcrumb.small { height: 200px; }
  .custom_breadcrumb.medium { height: 300px; }
  .custom_breadcrumb.large { height: 450px; }
  .banner-content h1 { font-size: 1.8rem; }
  .decorated-para { font-size: 14px; }
}
</style>

{% schema %}
{
  "name": "Breadcrumb with Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "banner_bg",
      "label": "Banner Background Image"
    },
    {
      "type": "select",
      "id": "banner_height",
      "label": "Banner Height",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "text",
      "id": "banner_heading",
      "label": "Banner Heading",
      "default": "Page Title Here"
    },
    {
      "type": "textarea",
      "id": "banner_text",
      "label": "Banner Text",
      "default": "This is your paragraph text"
    },
    {
      "type": "text",
      "id": "banner_button_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "banner_button_link",
      "label": "Button Link",
      "default": "/collections/all"
    }
  ],
  "presets": [
    {
      "name": "Breadcrumb with Banner",
      "category": "Custom"
    }
  ]
}
{% endschema %}
