<!-- sections/fabric-swatches.liquid -->
<section class="fabric-swatches" style="
  background-color: {{ section.settings.background_color }};
  padding: {{ section.settings.section_padding_top }}px {{ section.settings.section_padding_sides }}px {{ section.settings.section_padding_bottom }}px {{ section.settings.section_padding_sides }}px;
">
  <div class="container">
    
    <!-- Header Section - Centered -->
    <div class="section-header" style="text-align: center;">
      <div class="section-heading" style="margin-bottom: {{ section.settings.heading_margin_bottom }}px;">
        <h3 style="
          color: {{ section.settings.heading_color }};
          font-size: {{ section.settings.heading_font_size }}px;
          font-weight: {{ section.settings.heading_font_weight }};
          margin: 0;
        ">{{ section.settings.heading }}</h3>
      </div>
      
      <div class="section-subheading" style="
        max-width: {{ section.settings.subheading_max_width }}px;
        margin: 0 auto;
      ">
        <p style="
          color: {{ section.settings.subheading_color }};
          font-size: {{ section.settings.subheading_font_size }}px;
          line-height: {{ section.settings.subheading_line_height }};
          margin: 0;
          text-align: center;
        ">{{ section.settings.subheading }}</p>
      </div>
    </div>

    <!-- Fabric Swatches Grid -->
    <div class="swatches-grid" style="
      gap: {{ section.settings.swatches_gap }}px; 
      margin-top: {{ section.settings.swatches_margin_top }}px;
      grid-template-columns: repeat({{ section.settings.swatches_per_row }}, 1fr);
    ">
      {% for block in section.blocks %}
        <div class="swatch-item" {{ block.shopify_attributes }}>
          <div class="swatch-image-container">
            {% if block.settings.swatch_image %}
              {{ block.settings.swatch_image | image_url: width: 300 | image_tag: 
                class: 'swatch-image',
                loading: 'lazy',
                alt: block.settings.swatch_name
              }}
            {% else %}
              <div class="swatch-placeholder">
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
              </div>
            {% endif %}
            
            {% if block.settings.swatch_badge %}
              <div class="swatch-badge" style="
                background-color: {{ section.settings.badge_background_color }};
                color: {{ section.settings.badge_text_color }};
                font-size: {{ section.settings.badge_font_size }}px;
              ">
                {{ block.settings.swatch_badge }}
              </div>
            {% endif %}
          </div>
          
          <div class="swatch-info" style="margin-top: {{ section.settings.info_margin_top }}px;">
            <h4 class="swatch-name" style="
              color: {{ section.settings.name_color }};
              font-size: {{ section.settings.name_font_size }}px;
              font-weight: {{ section.settings.name_font_weight }};
              margin: 0 0 5px 0;
            ">{{ block.settings.swatch_name }}</h4>
            
            {% if block.settings.swatch_description != blank %}
              <p class="swatch-description" style="
                color: {{ section.settings.description_color }};
                font-size: {{ section.settings.description_font_size }}px;
                line-height: {{ section.settings.description_line_height }};
                margin: 0;
              ">{{ block.settings.swatch_description }}</p>
            {% endif %}
            
            {% if block.settings.swatch_price != blank %}
              <div class="swatch-price" style="
                color: {{ section.settings.price_color }};
                font-size: {{ section.settings.price_font_size }}px;
                font-weight: {{ section.settings.price_font_weight }};
                margin-top: 8px;
              ">{{ block.settings.swatch_price }}</div>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
    
    <!-- Optional CTA Button -->
    {% if section.settings.cta_text != blank %}
      <div class="swatches-cta" style="text-align: center; margin-top: {{ section.settings.cta_margin_top }}px;">
        <a href="{{ section.settings.cta_link }}" class="cta-button" style="
          display: inline-block;
          background-color: {{ section.settings.cta_background_color }};
          color: {{ section.settings.cta_text_color }};
          padding: {{ section.settings.cta_padding_vertical }}px {{ section.settings.cta_padding_horizontal }}px;
          font-size: {{ section.settings.cta_font_size }}px;
          font-weight: {{ section.settings.cta_font_weight }};
          text-decoration: none;
          border-radius: {{ section.settings.cta_border_radius }}px;
          transition: all 0.3s ease;
        " onmouseover="this.style.backgroundColor='{{ section.settings.cta_hover_background_color }}'" 
           onmouseout="this.style.backgroundColor='{{ section.settings.cta_background_color }}'">
          {{ section.settings.cta_text }}
        </a>
      </div>
    {% endif %}
  </div>
</section>

<style>
.fabric-swatches {
  border-bottom: 2px solid #f5eee8;
  max-width: 1200px;
  margin: auto;
}

.fabric-swatches .container {
  max-width: {{ section.settings.container_max_width }}px;
  margin: 0 auto;
}

.swatches-grid {
  display: grid;
}

.swatch-item {
  display: flex;
  flex-direction: column;
}

.swatch-image-container {
  position: relative;
  overflow: hidden;
  border-radius: {{ section.settings.image_border_radius }}px;
}

.swatch-image {
  width: 100%;
  height: auto;
  display: block;
  transition: transform 0.3s ease;
}

.swatch-image:hover {
  transform: scale(1.03);
}

.swatch-placeholder {
  background-color: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 200px;
}

.swatch-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
}

.swatch-info {
  padding: 10px 5px;
}

.cta-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* Responsive */
@media (max-width: 768px) {
  .swatches-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 20px !important;
  }
}

@media (max-width: 480px) {
  .swatches-grid {
    grid-template-columns: 1fr !important;
  }
}
</style>

{% schema %}
{
  "name": "Fabric Swatches",
  "settings": [
    {
      "type": "header",
      "content": "Section Layout"
    },
    {
      "type": "range",
      "id": "container_max_width",
      "label": "Container Max Width",
      "min": 800,
      "max": 1400,
      "step": 10,
      "default": 1200,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "label": "Section Padding Top",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 60,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "label": "Section Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 60,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "section_padding_sides",
      "label": "Section Padding Sides",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 20,
      "unit": "px"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading Text",
      "default": "Choose Your Fabric"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "label": "Heading Font Size",
      "min": 16,
      "max": 48,
      "step": 1,
      "default": 28,
      "unit": "px"
    },
    {
      "type": "select",
      "id": "heading_font_weight",
      "label": "Heading Font Weight",
      "options": [
        {"value": "300", "label": "Light"},
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"},
        {"value": "600", "label": "Semi Bold"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "600"
    },
    {
      "type": "range",
      "id": "heading_margin_bottom",
      "label": "Heading Margin Bottom",
      "min": 0,
      "max": 50,
      "step": 1,
      "default": 15,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Subheading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading Text",
      "default": "Explore our premium fabric collection"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading Color",
      "default": "#555555"
    },
    {
      "type": "range",
      "id": "subheading_font_size",
      "label": "Subheading Font Size",
      "min": 12,
      "max": 24,
      "step": 1,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "subheading_line_height",
      "label": "Subheading Line Height",
      "min": 1.0,
      "max": 2.0,
      "step": 0.1,
      "default": 1.5,
      "unit": "em"
    },
    {
      "type": "range",
      "id": "subheading_max_width",
      "label": "Subheading Max Width",
      "min": 300,
      "max": 800,
      "step": 10,
      "default": 600,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Swatches Grid"
    },
    {
      "type": "range",
      "id": "swatches_per_row",
      "label": "Swatches Per Row",
      "min": 2,
      "max": 6,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "swatches_gap",
      "label": "Swatches Gap",
      "min": 10,
      "max": 50,
      "step": 5,
      "default": 20,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "swatches_margin_top",
      "label": "Swatches Margin Top",
      "min": 20,
      "max": 100,
      "step": 5,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "label": "Image Border Radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "default": 8,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Swatch Information"
    },
    {
      "type": "range",
      "id": "info_margin_top",
      "label": "Info Margin Top",
      "min": 5,
      "max": 30,
      "step": 1,
      "default": 15,
      "unit": "px"
    },
    {
      "type": "color",
      "id": "name_color",
      "label": "Fabric Name Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "name_font_size",
      "label": "Name Font Size",
      "min": 14,
      "max": 24,
      "step": 1,
      "default": 18,
      "unit": "px"
    },
    {
      "type": "select",
      "id": "name_font_weight",
      "label": "Name Font Weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"},
        {"value": "600", "label": "Semi Bold"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "600"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#555555"
    },
    {
      "type": "range",
      "id": "description_font_size",
      "label": "Description Font Size",
      "min": 12,
      "max": 18,
      "step": 1,
      "default": 14,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "description_line_height",
      "label": "Description Line Height",
      "min": 1.2,
      "max": 2.0,
      "step": 0.1,
      "default": 1.5,
      "unit": "em"
    },
    {
      "type": "color",
      "id": "price_color",
      "label": "Price Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "price_font_size",
      "label": "Price Font Size",
      "min": 12,
      "max": 20,
      "step": 1,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "select",
      "id": "price_font_weight",
      "label": "Price Font Weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"},
        {"value": "600", "label": "Semi Bold"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "600"
    },
    {
      "type": "header",
      "content": "Badge Settings"
    },
    {
      "type": "color",
      "id": "badge_background_color",
      "label": "Badge Background Color",
      "default": "#ff4444"
    },
    {
      "type": "color",
      "id": "badge_text_color",
      "label": "Badge Text Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "badge_font_size",
      "label": "Badge Font Size",
      "min": 10,
      "max": 16,
      "step": 1,
      "default": 12,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Call to Action"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Button Text",
      "default": "View All Fabrics"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA Button Link"
    },
    {
      "type": "color",
      "id": "cta_background_color",
      "label": "CTA Background Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "cta_text_color",
      "label": "CTA Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "cta_hover_background_color",
      "label": "CTA Hover Background Color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "cta_font_size",
      "label": "CTA Font Size",
      "min": 14,
      "max": 20,
      "step": 1,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "select",
      "id": "cta_font_weight",
      "label": "CTA Font Weight",
      "options": [
        {"value": "400", "label": "Normal"},
        {"value": "500", "label": "Medium"},
        {"value": "600", "label": "Semi Bold"},
        {"value": "700", "label": "Bold"}
      ],
      "default": "600"
    },
    {
      "type": "range",
      "id": "cta_padding_vertical",
      "label": "CTA Padding Vertical",
      "min": 8,
      "max": 20,
      "step": 1,
      "default": 12,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "cta_padding_horizontal",
      "label": "CTA Padding Horizontal",
      "min": 16,
      "max": 40,
      "step": 2,
      "default": 24,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "cta_border_radius",
      "label": "CTA Border Radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "default": 4,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "cta_margin_top",
      "label": "CTA Margin Top",
      "min": 20,
      "max": 80,
      "step": 5,
      "default": 40,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "swatch",
      "name": "Fabric Swatch",
      "settings": [
        {
          "type": "image_picker",
          "id": "swatch_image",
          "label": "Swatch Image"
        },
        {
          "type": "text",
          "id": "swatch_name",
          "label": "Fabric Name",
          "default": "Linen Blend"
        },
        {
          "type": "text",
          "id": "swatch_description",
          "label": "Fabric Description",
          "default": "Breathable and durable natural fabric"
        },
        {
          "type": "text",
          "id": "swatch_price",
          "label": "Price (Optional)",
          "default": "From $29.99"
        },
        {
          "type": "text",
          "id": "swatch_badge",
          "label": "Badge Text (Optional)",
          "default": "New"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Fabric Swatches",
      "category": "Custom Sections",
      "blocks": [
        {
          "type": "swatch",
          "settings": {
            "swatch_name": "Cotton Canvas",
            "swatch_description": "Soft and durable everyday fabric",
            "swatch_price": "From $24.99"
          }
        },
        {
          "type": "swatch",
          "settings": {
            "swatch_name": "Velvet",
            "swatch_description": "Luxurious and soft premium fabric",
            "swatch_price": "From $39.99",
            "swatch_badge": "Premium"
          }
        },
        {
          "type": "swatch",
          "settings": {
            "swatch_name": "Chenille",
            "swatch_description": "Plush and cozy textured fabric",
            "swatch_price": "From $34.99"
          }
        },
        {
          "type": "swatch",
          "settings": {
            "swatch_name": "Linen Blend",
            "swatch_description": "Breathable natural fabric blend",
            "swatch_price": "From $29.99",
            "swatch_badge": "Popular"
          }
        }
      ]
    }
  ]
}
{% endschema %}